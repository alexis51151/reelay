<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=../assets/logo_diamond_black.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.2.2"><title>Rye Format - Reelay</title><link rel=stylesheet href=../assets/stylesheets/main.a2408e81.min.css><link rel=stylesheet href=../assets/stylesheets/palette.a46bcfb3.min.css><meta name=theme-color content><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700%7CUbuntu+Mono&display=fallback"><style>body,input{font-family:"Ubuntu",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel="preconnect dns-prefetch" href=https://www.google-analytics.com><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-153753179-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-scheme data-md-color-primary=black data-md-color-accent=red> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#reelay-expression-format class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=.. title=Reelay class="md-header-nav__button md-logo" aria-label=Reelay> <img src=../assets/logo_diamond.png alt=logo> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Reelay </span> <span class="md-header-nav__topic md-ellipsis"> Rye Format </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/doganulus/reelay/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=Reelay class="md-nav__button md-logo" aria-label=Reelay> <img src=../assets/logo_diamond.png alt=logo> </a> Reelay </label> <div class=md-nav__source> <a href=https://github.com/doganulus/reelay/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. title=Home class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Install <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Install data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Install </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../install/ title="From Source" class=md-nav__link> From Source </a> </li> <li class=md-nav__item> <a href=../docker/ title="Docker Image" class=md-nav__link> Docker Image </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> Get Started <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Get Started" data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Get Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../gs_intro/ title="Tutorial: Introduction" class=md-nav__link> Tutorial: Introduction </a> </li> <li class=md-nav__item> <a href=../gs_cpp/ title="Use Reelay from C++" class=md-nav__link> Use Reelay from C++ </a> </li> <li class=md-nav__item> <a href=../gs_python/ title="Use Reelay from Python" class=md-nav__link> Use Reelay from Python </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4 checked> <label class=md-nav__link for=nav-4> User Manual <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="User Manual" data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> User Manual </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../behaviors/ title="Temporal Behaviors" class=md-nav__link> Temporal Behaviors </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Rye Format <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg> </span> </label> <a href=./ title="Rye Format" class="md-nav__link md-nav__link--active"> Rye Format </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#what-is-rye-format class=md-nav__link> What is Rye Format? </a> <nav class=md-nav aria-label="What is Rye Format?"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#atomic-expressions class=md-nav__link> Atomic Expressions </a> </li> <li class=md-nav__item> <a href=#boolean-logic-expressions class=md-nav__link> Boolean Logic Expressions </a> <nav class=md-nav aria-label="Boolean Logic Expressions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#negation class=md-nav__link> Negation </a> </li> <li class=md-nav__item> <a href=#conjunction class=md-nav__link> Conjunction </a> </li> <li class=md-nav__item> <a href=#disjunction class=md-nav__link> Disjunction </a> </li> <li class=md-nav__item> <a href=#logical-implication class=md-nav__link> Logical Implication </a> </li> <li class=md-nav__item> <a href=#references-and-quantifiers class=md-nav__link> References and Quantifiers </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#temporal-logic-expressions class=md-nav__link> Temporal Logic Expressions </a> <nav class=md-nav aria-label="Temporal Logic Expressions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#previously class=md-nav__link> Previously </a> </li> <li class=md-nav__item> <a href=#sometime-in-the-past-once class=md-nav__link> Sometime in the Past, Once </a> </li> <li class=md-nav__item> <a href=#always-in-the-past-historically class=md-nav__link> Always in the Past, Historically </a> </li> <li class=md-nav__item> <a href=#since class=md-nav__link> Since </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#a-note-regarding-operator-precedence class=md-nav__link> A Note regarding Operator Precedence </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../cpp_api/ title="C++ API" class=md-nav__link> C++ API </a> </li> <li class=md-nav__item> <a href=../python_api/ title="Python API" class=md-nav__link> Python API </a> </li> <li class=md-nav__item> <a href=../performance/ title=Benchmarking class=md-nav__link> Benchmarking </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Advanced Topics <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Advanced Topics" data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Advanced Topics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../literature/ title=References class=md-nav__link> References </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> About <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=About data-md-level=1> <label class=md-nav__title for=nav-6> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../author/ title=Author class=md-nav__link> Author </a> </li> <li class=md-nav__item> <a href=../license/ title=License class=md-nav__link> License </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#what-is-rye-format class=md-nav__link> What is Rye Format? </a> <nav class=md-nav aria-label="What is Rye Format?"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#atomic-expressions class=md-nav__link> Atomic Expressions </a> </li> <li class=md-nav__item> <a href=#boolean-logic-expressions class=md-nav__link> Boolean Logic Expressions </a> <nav class=md-nav aria-label="Boolean Logic Expressions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#negation class=md-nav__link> Negation </a> </li> <li class=md-nav__item> <a href=#conjunction class=md-nav__link> Conjunction </a> </li> <li class=md-nav__item> <a href=#disjunction class=md-nav__link> Disjunction </a> </li> <li class=md-nav__item> <a href=#logical-implication class=md-nav__link> Logical Implication </a> </li> <li class=md-nav__item> <a href=#references-and-quantifiers class=md-nav__link> References and Quantifiers </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#temporal-logic-expressions class=md-nav__link> Temporal Logic Expressions </a> <nav class=md-nav aria-label="Temporal Logic Expressions"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#previously class=md-nav__link> Previously </a> </li> <li class=md-nav__item> <a href=#sometime-in-the-past-once class=md-nav__link> Sometime in the Past, Once </a> </li> <li class=md-nav__item> <a href=#always-in-the-past-historically class=md-nav__link> Always in the Past, Historically </a> </li> <li class=md-nav__item> <a href=#since class=md-nav__link> Since </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#a-note-regarding-operator-precedence class=md-nav__link> A Note regarding Operator Precedence </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/doganulus/reelay/edit/master/docs/rye.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=reelay-expression-format>Reelay Expression Format</h1> <p>Reelay reads executable specifications written in plain text and verifies that the system does what those specifications say at runtime. To construct runtime monitors automatically, those specifications must follow some basic syntax rules, called Rye format for short.</p> <h2 id=what-is-rye-format>What is Rye Format?</h2> <p>Rye format uses a set of special constructs (that is, keywords and punctuation) to describe desired system behavior over temporal data streams expressed in structured data formats like multiline JSON or CSV.</p> <p>These syntactic constructs are divided into four categories:</p> <ol> <li>Atomic expressions</li> <li>Boolean logic expressions</li> <li>Temporal logic expressions</li> <li>Regular expressions (in a future release)</li> </ol> <p>Let's start with atomic expressions.</p> <h4 id=atomic-expressions>Atomic Expressions</h4> <p>Atomic expressions are the basic building blocks of Reelay expressions. Basic atoms use the curly-bracket syntax <code>{...}</code> and describes a set of constraints over data objects. For example, an atomic expression such as</p> <div class=codehilite><pre><span></span><code>{lights_on: true, speed &gt; 20.0, mode: &quot;Sport XL&quot;}
</code></pre></div> <p>will be evaluated to <code>true</code> for time points <code>101</code> and <code>102</code> below over a temporal behavior given as a sequence of JSON objects such that</p> <div class=codehilite><pre><span></span><code><span class=err>...</span>
<span class=p>{</span><span class=nt>&quot;time&quot;</span><span class=p>:</span> <span class=mi>101</span><span class=p>,</span> <span class=nt>&quot;lights_on&quot;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span> <span class=nt>&quot;speed&quot;</span><span class=p>:</span> <span class=mf>21.23</span><span class=p>,</span> <span class=nt>&quot;mode&quot;</span><span class=p>:</span> <span class=s2>&quot;Sport XL&quot;</span><span class=p>}</span>
<span class=p>{</span><span class=nt>&quot;time&quot;</span><span class=p>:</span> <span class=mi>102</span><span class=p>,</span> <span class=nt>&quot;lights_on&quot;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span> <span class=nt>&quot;speed&quot;</span><span class=p>:</span> <span class=mf>20.01</span><span class=p>,</span> <span class=nt>&quot;mode&quot;</span><span class=p>:</span> <span class=s2>&quot;Sport XL&quot;</span><span class=p>}</span>
<span class=p>{</span><span class=nt>&quot;time&quot;</span><span class=p>:</span> <span class=mi>103</span><span class=p>,</span> <span class=nt>&quot;lights_on&quot;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span> <span class=nt>&quot;speed&quot;</span><span class=p>:</span> <span class=mf>19.12</span><span class=p>,</span> <span class=nt>&quot;mode&quot;</span><span class=p>:</span> <span class=s2>&quot;Sport XL&quot;</span><span class=p>}</span>
<span class=err>...</span>
</code></pre></div> <p>Currently Reelay supports Booleans (<code>true</code>, <code>false</code>), numerical comparisons (<code>&lt;</code>, <code>&lt;=</code>, <code>&gt;</code>, <code>&gt;=</code>, <code>==</code>, <code>!=</code>), string equivalences inside curly atoms over data objects.</p> <p>Non-existent or unspecified field names in data objects and their values do not change the value of the atomic expression. For example, an atomic expression such as</p> <div class=codehilite><pre><span></span><code>{speed &gt; 21.0}
</code></pre></div> <p>will be evaluated to <code>true</code> for the time point <code>101</code> and false for time points <code>102</code> and <code>103</code> regardless of the value of other fields in the objects. For the case where you require that a field exists in the object but don't care about its value, Reelay uses the asterisk (<code>*</code>) symbol to denote that any value is acceptable. For example,</p> <div class=codehilite><pre><span></span><code>{lights_on: true, speed &gt; 19.0, mode: *}
</code></pre></div> <p>will be evaluated to <code>true</code> for time points <code>101</code>, <code>102</code>, and <code>103</code> but to <code>false</code> for a data object</p> <div class=codehilite><pre><span></span><code><span class=p>{</span><span class=nt>&quot;time&quot;</span><span class=p>:</span> <span class=mi>104</span><span class=p>,</span> <span class=nt>&quot;lights_on&quot;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span> <span class=nt>&quot;speed&quot;</span><span class=p>:</span> <span class=mf>21.23</span><span class=p>}</span>
</code></pre></div> <p>since it does not contain any field named as <code>mode</code>.</p> <p>Quite often we have to deal with complex hierarchial data objects such as</p> <div class=codehilite><pre><span></span><code><span class=err>...</span>
<span class=p>{</span>
    <span class=nt>&quot;time&quot;</span><span class=p>:</span> <span class=mi>104</span><span class=p>,</span>  
    <span class=nt>&quot;ego&quot;</span> <span class=p>:</span> <span class=p>{</span>
        <span class=nt>&quot;lights_on&quot;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
        <span class=nt>&quot;motion&quot;</span> <span class=p>:</span> <span class=p>{</span>
            <span class=nt>&quot;position&quot;</span> <span class=p>:</span> <span class=p>[</span><span class=mf>117.2</span><span class=p>,</span> <span class=mf>-345.7</span><span class=p>],</span>
            <span class=nt>&quot;speed&quot;</span><span class=p>:</span> <span class=mf>21.23</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>}</span>
<span class=err>..</span>
</code></pre></div> <p>when monitoring real-time systems. Therefore, Reelay support hierarchical atoms and uses <code>::</code> operator to specify the path of hierarchy as follows:</p> <div class=codehilite><pre><span></span><code>ego::motion::{speed &gt; 21.0}
</code></pre></div> <p>These path will be calculated from the current namespace, and initially from the root of the main data object. Reelay also provides a limited support for array-like structures and currently allows the specification of indices using <code>$index</code> syntax such that</p> <div class=codehilite><pre><span></span><code>ego::motion::position::{$0 &gt; 100.0,  $1 &gt; 0.0}
</code></pre></div> <p>As usual we use zero-based indexing in our specifications.</p> <p>Finally Reelay allows to declare categorical variable references inside atoms using the <code>*ref_name</code> syntax such that</p> <div class=codehilite><pre><span></span><code>{lights_on: true, speed &gt; 20, mode: *myref}
</code></pre></div> <p>Then this reference called <code>myref</code> can be used elsewhere in the expression and quantified by <code>exists</code> and <code>forall</code> operators. More details regarding these operators are given in the following section of logical constructs.</p> <h4 id=boolean-logic-expressions>Boolean Logic Expressions</h4> <p>This section describe Boolean logic operations over atomic Reelay expressions. we mainly use curly atoms in the examples but these constructs are equally applicable unless anything noted.</p> <h5 id=negation>Negation</h5> <p>The negation of Reelay expressions is defined by using keywords <code>not</code> and <code>!</code>.</p> <div class=codehilite><pre><span></span><code>not {key1: value1, key2: value2}
</code></pre></div> <h5 id=conjunction>Conjunction</h5> <p>The conjuction of Reelay expressions is defined by using keywords <code>and</code> and <code>&amp;&amp;</code>.</p> <p>One can see that atomic expression syntax is a shortcut for conjunction between atomic constraints. Two Reelay expressions below are functionally equivalent:</p> <div class=codehilite><pre><span></span><code>{key1: value1, key2: value2}
</code></pre></div> <p>and</p> <div class=codehilite><pre><span></span><code>{key1: value1} and {key2: value2}
</code></pre></div> <h5 id=disjunction>Disjunction</h5> <p>The disjunction of constraints has to defined explicitly using keywords <code>or</code> and <code>||</code>.</p> <div class=codehilite><pre><span></span><code>{key1: value1} or {key2: value2}
</code></pre></div> <h5 id=logical-implication>Logical Implication</h5> <p>Logical implication is a popular Boolean operation when writing conditional specifications. The logical implication of constraints has to defined explicitly using keywords <code>implies</code> and <code>-&gt;</code>.</p> <div class=codehilite><pre><span></span><code>{key1: value1} -&gt; {key2: value2}
</code></pre></div> <h5 id=references-and-quantifiers>References and Quantifiers</h5> <p>The ability to refer to data values (unknown at compile time) is one of the advanced features of Reelay. Roughly speaking, a reference variable acts a memory location where many data values (from a key) can be stored and can be checked later (or with another key) for the equality. Then these data values can quantified for existence (<code>exists</code>) and universality (<code>forall</code>). Note that this feature is currently supported for categorical variables (e.g. strings) only.</p> <p>The syntax for references and quantifiers is as follows:</p> <div class=codehilite><pre><span></span><code>exists[ref1, ref2, ...]. RYE(ref1, ref2, ...)
</code></pre></div> <div class=codehilite><pre><span></span><code>forall[ref1, ref2, ...]. RYE(ref1, ref2, ...)
</code></pre></div> <p>where <code>RYE(ref1, ref2, ...)</code> is an arbitrary Reelay expression that contains reference declarations <code>ref1, ref2, ...</code> inside its atoms.</p> <p>For example, we may want to check the equality of data values for two fields but don't know or cannot write all possible cases at compile time.</p> <div class=codehilite><pre><span></span><code>exists[refname]. {key1: *refname, key2: *refname}
</code></pre></div> <p>This expression above will be evaluated to <code>true</code> for the data object</p> <div class=codehilite><pre><span></span><code><span class=p>{</span><span class=nt>&quot;key1&quot;</span><span class=p>:</span> <span class=s2>&quot;hello&quot;</span><span class=p>,</span> <span class=nt>&quot;key2&quot;</span><span class=p>:</span> <span class=s2>&quot;hello&quot;</span><span class=p>}</span>
</code></pre></div> <p>but <code>false</code> for the data object</p> <div class=codehilite><pre><span></span><code><span class=p>{</span><span class=nt>&quot;key1&quot;</span><span class=p>:</span> <span class=s2>&quot;hello&quot;</span><span class=p>,</span> <span class=nt>&quot;key2&quot;</span><span class=p>:</span> <span class=s2>&quot;world&quot;</span><span class=p>}</span>
</code></pre></div> <p>as two string values are not equal in the latter. More advanced use of references involve temporal expressions explained in the following sections, which allow us checking data values from different time points.</p> <h4 id=temporal-logic-expressions>Temporal Logic Expressions</h4> <h5 id=previously>Previously</h5> <p>The unary operation of <code>previously</code> is defined using keywords <code>pre</code> and <code>Y</code>. For example, consider the Reelay expression</p> <div class=codehilite><pre><span></span><code>pre{lights_on: true}
</code></pre></div> <p>which is true at the current time point if lights were on in the previous time point.</p> <p>Note that <code>previously</code> operation is only meaningful for untimed and discrete timed settings but dense timed settings.</p> <h5 id=sometime-in-the-past-once>Sometime in the Past, Once</h5> <p>The unary operation of <code>once</code> is defined using keywords <code>once</code> and <code>P</code>. For example, consider the Reelay expression</p> <div class=codehilite><pre><span></span><code>once{lights_on: true}
</code></pre></div> <p>which is true at the current time point if lights were on in sometime in the past. It is possible to add timing constraints to the specification such that</p> <div class=codehilite><pre><span></span><code>once[a:b]{lights_on: true}
</code></pre></div> <p>which is true at the current time point if lights were always on in sometime between <code>b</code> and <code>a</code> time units before now. We use the syntax <code>[a:]</code> and <code>[:b]</code> if there is no constraints on upper and lower bounds, respectively.</p> <h5 id=always-in-the-past-historically>Always in the Past, Historically</h5> <p>The unary operation of <code>historically</code> is defined using keywords <code>historically</code> and <code>H</code>. For example, consider the Reelay expression</p> <div class=codehilite><pre><span></span><code>historically{lights_on: true}
</code></pre></div> <p>which is true at the current time point if lights were on in some time in the past. It is possible to add timing constraints to the specification such that </p> <div class=codehilite><pre><span></span><code>historically[a:b]{lights_on: true}
</code></pre></div> <p>which is true at the current time point if lights were always on between <code>b</code> and <code>a</code> time units before now. We use the syntax <code>[a:]</code> and <code>[:b]</code> if there is no constraints on upper and lower bounds, respectively.</p> <h5 id=since>Since</h5> <p>The binary operation of <code>since</code> is defined using keywords <code>since</code> and <code>S</code>. For example, consider the Reelay expression</p> <div class=codehilite><pre><span></span><code>{speed &lt; 30} since {lights_on: true}
</code></pre></div> <p>which is true at the current time point if the variable <code>speed</code> is always less than 30 units since <code>lights_on</code> is true last time. It is possible to add timing constraints to the specification such that </p> <div class=codehilite><pre><span></span><code>{speed &lt; 30} since[a:b] {lights_on: true}
</code></pre></div> <p>which is true at the current time point if the variable <code>speed</code> is always less than 30 since <code>lights_on</code> is true sometime between <code>b</code> and <code>a</code> time units before now. We use the syntax <code>[a:]</code> and <code>[:b]</code> if there is no constraints on upper and lower bounds, respectively.</p> <h4 id=a-note-regarding-operator-precedence>A Note regarding Operator Precedence</h4> <p>As a rule of thumb, unary operators bind stronger than binary operators (except quantifiers, better use parantheses) and unary operators are eagerly matching therefore an expression such as</p> <div class=codehilite><pre><span></span><code>not {...} since {...}
</code></pre></div> <p>would be parsed as</p> <div class=codehilite><pre><span></span><code>(not {...}) since {...}
</code></pre></div> <p>and not as</p> <div class=codehilite><pre><span></span><code>not ({...} since {...})
</code></pre></div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../behaviors/ title="Temporal Behaviors" class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Temporal Behaviors </div> </div> </a> <a href=../cpp_api/ title="C++ API" class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> C++ API </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../assets/javascripts/vendor.d710d30a.min.js></script> <script src=../assets/javascripts/bundle.5f27aba8.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.27c6a5e6.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>