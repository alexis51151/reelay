<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=../assets/logo_diamond_black.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.5.11"><title>Tutorial: Introduction - Reelay</title><link rel=stylesheet href=../assets/stylesheets/main.860688db.min.css><link rel=stylesheet href=../assets/stylesheets/palette.943997b5.min.css><meta name=theme-color content=#000000><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,400i,700%7CUbuntu+Mono&display=fallback"><style>body,input{font-family:"Ubuntu",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-153753179-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-scheme data-md-color-primary=black data-md-color-accent=red> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#tutorial-introduction class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=.. title=Reelay class="md-header-nav__button md-logo" aria-label=Reelay> <img src=../assets/logo_diamond.png alt=logo> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Reelay </span> <span class="md-header-nav__topic md-ellipsis"> Tutorial: Introduction </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/doganulus/reelay/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=Reelay class="md-nav__button md-logo" aria-label=Reelay> <img src=../assets/logo_diamond.png alt=logo> </a> Reelay </label> <div class=md-nav__source> <a href=https://github.com/doganulus/reelay/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. title=Home class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Install <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Install data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"></span> Install </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../install/ title="From Source" class=md-nav__link> From Source </a> </li> <li class=md-nav__item> <a href=../docker/ title="Docker Image" class=md-nav__link> Docker Image </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3 checked> <label class=md-nav__link for=nav-3> Get Started <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Get Started" data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"></span> Get Started </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Tutorial: Introduction <span class="md-nav__icon md-icon"></span> </label> <a href=./ title="Tutorial: Introduction" class="md-nav__link md-nav__link--active"> Tutorial: Introduction </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#an-example-feature class=md-nav__link> An Example Feature </a> </li> <li class=md-nav__item> <a href=#specify-requirements class=md-nav__link> Specify Requirements </a> </li> <li class=md-nav__item> <a href=#check-requirements class=md-nav__link> Check Requirements </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../gs_cpp/ title="Use Reelay from C++" class=md-nav__link> Use Reelay from C++ </a> </li> <li class=md-nav__item> <a href=../gs_python/ title="Use Reelay from Python" class=md-nav__link> Use Reelay from Python </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> User Manual <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="User Manual" data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"></span> User Manual </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../behaviors/ title="Temporal Behaviors" class=md-nav__link> Temporal Behaviors </a> </li> <li class=md-nav__item> <a href=../rye/ title="Rye Format" class=md-nav__link> Rye Format </a> </li> <li class=md-nav__item> <a href=../performance/ title=Benchmarking class=md-nav__link> Benchmarking </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Advanced Topics <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Advanced Topics" data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"></span> Advanced Topics </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../literature/ title=References class=md-nav__link> References </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> About <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=About data-md-level=1> <label class=md-nav__title for=nav-6> <span class="md-nav__icon md-icon"></span> About </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../author/ title=Author class=md-nav__link> Author </a> </li> <li class=md-nav__item> <a href=../license/ title=License class=md-nav__link> License </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#an-example-feature class=md-nav__link> An Example Feature </a> </li> <li class=md-nav__item> <a href=#specify-requirements class=md-nav__link> Specify Requirements </a> </li> <li class=md-nav__item> <a href=#check-requirements class=md-nav__link> Check Requirements </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/doganulus/reelay/edit/master/docs/gs_intro.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=tutorial-introduction>Tutorial: Introduction</h1> <p>This first part of the tutorial is about why we have system requirements and how to write them in the declative specification languages. We will use <a href=../rye/ >Reelay Expression Format</a> to write our specifications. The following parts will about how to check these specifications over temporal data streams using <strong>Reelay</strong> monitors in <a href=../gs_cpp/ >C++</a> or <a href=../gs_python/ >Python</a>.</p> <p>Throught the tutorial, we use an example from the robotics such that we are designing a home assistant robot as our next big product. Besides we also think our customers would love our robots with a door open warning feature but it must be tested properly!</p> <h2 id=an-example-feature>An Example Feature</h2> <p>So we want to design a feature that warns the user whenever our system (robot) detects the entry door is left open. For the Door Open Warning (DOW) feature, there are two classes of failures, false positives (FP) and false negatives (FN). If we were more functional safety minded, there will be the assessment of the severity of each class but let's leave such aspects for another time. We will simply measure the progress of development by the number of failures over some set of test cases.</p> <p>The next step is to analyse and break down the feature into (testable) system requirements. Perhaps we would want to issue a warning after some time, say 5 minutes, rather than immediately. This constitutes our first requirement expressed as follows:</p> <div class="admonition requirement"> <p class=admonition-title>Requirement</p> <p><strong>SYS-REQ-01:</strong> The system shall issue a warning if the entry door is left open at least 5 minutes.</p> </div> <p>An important point here is that we can actually check this requirement over the behavior of the robot in such scenarios. Perhaps a spoiler but we will use <strong>Reelay</strong> monitors to check but let's finish our requirements first. Assume that we also want to give the warning once as multiple warnings for the same occasion may annoy our users. This constitutes our second requirement expressed as follows:</p> <div class="admonition requirement"> <p class=admonition-title>Requirement</p> <p><strong>SYS-REQ-02:</strong> The door should be closed before the system issues another warning. This should prevent that the warning is issuing several warnings after another, while the door is open.</p> </div> <p>Now we have a set of system requirements for the DOW feature. And we may design a system whose block diagram given is below:</p> <p><img alt="alt text" src=../assets/gs_dow_diagram.png></p> <p>For example, a <strong>discrete time behavior</strong> of the system would be a sequence of observations (data) as follows: </p> <table> <thead> <tr> <th>time (mins)</th> <th>door_open</th> <th>dow_suppressed</th> <th>door_open_warning</th> </tr> </thead> <tbody> <tr> <td>1</td> <td>False</td> <td>False</td> <td>False</td> </tr> <tr> <td>2</td> <td><strong>True</strong></td> <td>False</td> <td>False</td> </tr> <tr> <td>3</td> <td><strong>True</strong></td> <td>False</td> <td>False</td> </tr> <tr> <td>4</td> <td><strong>True</strong></td> <td>False</td> <td>False</td> </tr> <tr> <td>5</td> <td><strong>True</strong></td> <td>False</td> <td>False</td> </tr> <tr> <td>6</td> <td><strong>True</strong></td> <td>False</td> <td>False</td> </tr> <tr> <td>7</td> <td><strong>True</strong></td> <td>False</td> <td><strong>True</strong></td> </tr> <tr> <td>8</td> <td><strong>True</strong></td> <td><strong>True</strong></td> <td>False</td> </tr> <tr> <td>9</td> <td><strong>True</strong></td> <td><strong>True</strong></td> <td>False</td> </tr> <tr> <td>...</td> <td>...</td> <td>...</td> <td>...</td> </tr> </tbody> </table> <p>where our robot sample one data point per a fixed time unit. </p> <p>Alternatively, we could have designed an asynchronous (event-driven) architecture and emitted timestamped observations <strong>at irregular intervals</strong>, which we call <strong>dense time behaviors</strong>. Reelay uses the same specification to generate runtime monitors either for discrete or dense time behaviors.</p> <p>Next sections will be about writing these requirements in Reelay Expression format, an unambigious and executable specification language.</p> <h2 id=specify-requirements>Specify Requirements</h2> <p>We will use Reelay Expression (RYE) format to specify our requirements. RYE format is a temporal logic based formal language, commonly used to describe temporal patterns over signals in a precise and unambigious manner. <strong>Reelay</strong> can compile RYE specifications into efficient runtime monitors.</p> <p>Let's specify!</p> <p>Our first requirement <code>SYS-REQ-01</code> says that the system shall issue a warning if the door is open at least 5 minutes. This of course should be under understood under a condition that the warning is not suppressed as <code>SYS-REQ-02</code> will require. This often goes without saying as humans can relate two requirements easily. However, when specifiying requirements for the machine, we have to be more explicit. Below is the first part of <code>SYS-REQ-01</code> expressed in RYE:</p> <div class=codehilite><pre><span></span><code>(historically[0:5]{door_open} and not {dow_suppressed}) -&gt; {door_open_warning}
</code></pre></div> <p>The implication operator <code>-&gt;</code> says the right hand side must be true if the left hand side is true. The temporal operator <code>historically[a:b]{cond}</code> tells that the condition <code>cond</code> must be always true between time points <code>[now-b, now-a]</code>. Therefore, the part <code>historically[0:5]{door_open}</code> is true if <code>door_open</code> is always true from <code>5</code> minutes ago to <code>now</code>. The reference for Reelay expression format is available <a href=../rye/ >here</a>, which includes other temporal and Boolean operators. Overall this specification verifies <code>SYS-REQ-01</code> and its violation would be considered as a false negative.</p> <p>In plain English, the conditional connective <code>if</code> has sometimes a bi-directional meaning where the reverse case also goes without saying. This is also the case for <code>SYS-REQ-01</code>. The remaining two specifications verify <code>SYS-REQ-01</code> in a reverse way, for false positives, respectively.</p> <div class=codehilite><pre><span></span><code>{door_open_warning} -&gt; historically[0:5]{door_open}
</code></pre></div> <div class=codehilite><pre><span></span><code>{door_open_warning} -&gt; not{dow_suppressed}
</code></pre></div> <p>Finally, the second requirement <code>SYS-REQ-02</code> describes a behavior that involves slightly more complex temporal ordering of events. Here we see the use of temporal operators <code>pre</code> (meaning previously) and <code>since</code>.</p> <div class=codehilite><pre><span></span><code>{door_open_warning} -&gt; not(pre({door_open} since {door_open_warning}))
</code></pre></div> <p>This specification means that, whenever <code>door_open_warning</code> is true, <code>door_open</code> should <code>not</code> be continuously true <code>since</code> the last time <code>door_open_warning</code> is true. Therefore, the specification capture the intended meaning of <code>SYS-REQ-02</code> and its violation would be considered as a false positive.</p> <p>To conclude, let's tabulate our formal specifications obtained from system requirements above in a table nicely as follows:</p> <table> <thead> <tr> <th>Requirement</th> <th>Specification</th> <th>Failure Type</th> </tr> </thead> <tbody> <tr> <td><code>SYS-REQ-01</code></td> <td><code>(historically[0:5]{door_open} and not {dow_suppressed}) -&gt; door_open_warning</code></td> <td>False Negative</td> </tr> <tr> <td><code>SYS-REQ-01</code></td> <td><code>{door_open_warning} -&gt; historically[0:5]{door_open}</code></td> <td>False Positive</td> </tr> <tr> <td><code>SYS-REQ-01</code></td> <td><code>{door_open_warning} -&gt; not{dow_suppressed}</code></td> <td>False Positive</td> </tr> <tr> <td><code>SYS-REQ-02</code></td> <td><code>{door_open_warning} -&gt; not(pre({door_open} since {door_open_warning}))</code></td> <td>False Positive</td> </tr> </tbody> </table> <h2 id=check-requirements>Check Requirements</h2> <p><strong>Reelay</strong> has been designed for flexibility and efficiency in mind so that users can embed runtime specification monitoring for their projects in C++ or Python. Following tutorials will explain how to check these specifications over the system behavior.</p> <ul> <li><a href=../gs_cpp/ >Check requirements in C++</a></li> <li><a href=../gs_python/ >Check requirements in Python</a></li> </ul> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../docker/ title="Docker Image" class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Docker Image </div> </div> </a> <a href=../gs_cpp/ title="Use Reelay from C++" class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Use Reelay from C++ </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../assets/javascripts/vendor.df0def68.min.js></script> <script src=../assets/javascripts/bundle.ba57d267.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script> <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>